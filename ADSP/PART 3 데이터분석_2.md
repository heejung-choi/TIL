### 4절 시계열분석
가. 개요 

시간의 흐름에 따라 관찰된 데이터를 시계열 데이터 또는 시계열 자료라고 한다. 주식가격 데이터, 실업률, 기후데이터 등 우리 주위에서 많이 찾아볼 수 있다.

나. 시계열 자료의 종류

1) 비정상성 시계열 자료: 시계열 분석을 실시할 때 다루기 어려운 자료로 대부분의 시계열 자료가 이에 해당 
2) 정상성 시계열 자료: 비정상 시계열을 핸들링해 다루기 쉬운 시계열 자료로 변환한 자료이다.

다. 정상성

정상성은 평균이 일정할 때, 분산이 일정할 때, 공분산도 단지 시차에만 의존하고 실제 특정 시점 t,s에는 의존하지 않을 때 만족한다.

- 평균이 일정할 경우: 모든 시점에 대해 일정한 평균을 가진다. 평균이 일정하지 않은 시계열은 차분을 통해 정상화할 수 있다.
- 분산이 일정: 분산도 시점에 의존하지 않고 일정해야 한다. 분산이 일정하지 않을 경우 변환을 통해 정상화 할 수 있다.
- 공분산도 단지 시차에만 의존, 실제 특정 시점 t,s에는 의존하지 않는다.

### 5절 다차원척도법
다차원척도법은 군집분석과 같이 개체들을 대상으로 변수들을 측정한 후 개체들 사이의 유사성/비유사성을 측정하여 개체들을 2차원 또는 3차원 공간상에 점으로 표현하는 분석방법이다.
군집분석은 개체들간의 비유사성을 이용하여 동일한 그룹들로 분류하는 것이 목적인 반면, 
다차원척도법은 개체들의 비유사성을 이용하여 2차원 공간상에 점으로 표시하고 개체들 사이의 집단화를 시각적으로 표현하는것을 목적으로 헌다.

- 다차원척도법 방법
개체들의 거리 계산에는 유클리드 거리행렬을 활용한다.

### 주성분 분석
여려 변수들의 변량을 '주성분'이라는 서로 상관성이 높은 변수들의 선형 결합으로 만들어 기존의 상관성이 높은 변수들을 요약, 축소하는 기법이다.
첫번째 주성분으로 전체 변동을 가장 많이 설명할 수 있도록 하고, 
두번째 주성분으로는 첫번째 주성분과는 상관성이 없어서 첫번째 주성분이 설명하지 못하는 나머지 변동을 정보의 손실없이 가장 많이 설명할 수 있도록 변수들의 선형조합을 만든다,.

- 주성분분석의 목적
여러 변수들 간에 내재하는 상관관계, 연관성을 이용해 소수의 주성분으로 차원을 축소함으로써 데이터를 이해하기 쉽고 관리하기 쉽게 해준다.

### 주성분분석사례
- summary
```
> US.prin <-princomp(USArrests, cor = TRUE)
> summary(US.prin)
> screeplot(US.prin, npcs=4, type="lines")

Importance of components:
                          Comp.1    Comp.2    Comp.3     Comp.4
Standard deviation     1.5748783 0.9948694 0.5971291 0.41644938
Proportion of Variance 0.6200604 0.2474413 0.0891408 0.04335752
Cumulative Proportion  0.6200604 0.8675017 0.9566425 1.00000000

[Execution complete with exit code 0]
```

Cumulative Proportion(누적 분산비율)이 제2주성분(comp.2) 0.8675017 이므로
제1주성분과 제2주성분까지의 누적분산비율은 대략 86.8%로 2개의 주성분 변수를 활용하여 전체 데이터의 86.8%를 설명할 수 있다.

- Loading

# 기타

#### 이상값 탐색을 위해 상자그림(boxplot)을 사용하려 한다. 아래와 같은 데이터 요약 결과가 있을 때 , 다음 중 이상값을 판단하는 하한선, 상한선은?

Min   1st Qu.   Median    Mean    3rd Qu.    Max
0     4         7         9.615   12         39

사분위수 이용 (Q1-1.5*|QR, Q3+1.5*|QR)

(4-1.5*(12-4), 12+1.5*(12-4))=(-8,24)

#### 회귀분석의 가정
선형성, 독립성, 정규성, 등분산성, 비상관성 (오답: 이분산성)

다중 회귀분석에서 회귀식에 대한 검정은 독립변수의 기울기(회귀계수)가 0이라는 가정을 귀무가설, 기울기가 0이 아니라는 가정을 대립가설로 놓는다.

#### 스피어만, 피어슨(상관분석)
           스피어만	         피어슨
척도	    순서형	         등간이상
검정	   비모수검정	     모수검정
변수형태    이산형변수	     연속형변수
선형여부	비선형	         선형

피어슨 상관계수는 두 변수 간의 선형관계의 크기를 측정한다.
스피어만 상관계수는 두 변수 간의 비선형적인 관계도 측정 가능하다.
피어슨 상관계수와 스피어만 상관계수는 -1과 1사이의 값을 가진다.
등간 척도 및 비율척도로 측정된 변수들 간의 상관계수를 측정하는데 피어슨 상관계수를 이용한다.
서열 척도로 측정된 변수들 간의 상관계수를 측정하는데 스피어만 상관계수를 이용한다.
상관분석은 변수들 간의 연관성을 파악하기 위해 사용하는 분석 기법 중 하나로 변수 간의 선형 관계 정도를 분석하는 통계기법이다.

오답: 
피어슨 상관계수는 두 변수를 순위로 변환시킨 후 두 순위 사이의 스피어만 상관계수로 정의된다.
-> 피어슨 상관계수는 연속형 변수에 사용하며 정규성을 가정한다. 스피어만 상관계수는 순서형 변수에 사용하며 비모수적 방법이다. 피어슨 상관계수를 순위로 변환시키는 것은 옳지 않다.


### 정상시계열
대부분의 시계열은 비정상자료이다. 그러므로 비정상 자료를 정상성 조건에 만족시켜 정상 시계열로 만든 후 시계열 분석을 한다.
시계열이 정상 시계열인지 비정상 시계열인지 판단하기 위해 폭발적인 추세를 보이거나 시간에 따라 분산이 변화되는지 관찰해야 한다.
비정상 시계열은 정상시계열로 변경하고자 할 때 변환과 차분의 방법을 사용한다.

오답: 일반적으로 평균이 일정하지 않은 비정상 시계열은 변환을 통해 분산이 일정하지 않은 비정상 시계열은 차분을 통해 정상 시계열로 바꾼다.
-> 평균이 일정하지 않은 비정상 시계열은 차분(수열에서 연속하는 두 항의 차)을, 분산이 일정하지 않은 비정상 시계열은 변환(정규분포가 아닌 자료를 정규분포로 변환하기 위해 사용)을 통해 정상 시계열로 바꾼다.

### 시계열 데이터의 분석절차
1) 시간 그래프 그리기
2) 추세와 계절성을 제거하기
3) 잔차를 예측하기
4) 잔차에 대한 모델 적합하기
5) 예측된 잔차에 추세와 계절성을 더하여 미래를 예측하기

### 회귀분석(Ridge VS Lasso VS Elastic net)

- 릿지(Ridge)

L2-norm Regularization
변수 선택 불가능
변수 간 상관관계가 높은 상황에서 좋은 예측 성능

- 라쏘(Lasso)

L1-norm Regularization (오답: L2penalty를 사용한다.)
변수 선택 가능
변수 간 상관관계가 높은 상황에서 릿지에 비해 상대적으로 떨어짐
모형에 포함된 회귀계수들의 절대값의 크기가 클수록 Penalty를 부여하는 방식이다.
Lambda 값으로 penalty의 정도를 조정한다.

- 엘라스틱넷(Elastic net)

L1-norm, L2-norm Regularization
변수 선택 가능
상관관계 큰 변수를 동시에 선택/배제하는 특성

### 통계분석
- 덧셈정리(배반사건이 아닐떄): 사건 A와 사건 B가 동시에 일어날 수 있을 때
일어날 확률 P(A또는B)는 P(A U B) = P(A) + P(B) - P(A∩B)

- 덧셈정리(배반사건일 떄): 사건 A와 사건 B가 동시에 일어나지 않을 때
일어날 확률 P(A또는B)는 P(A U B) = P(A) + P(B)

- 곱샘정리: 사건 A와 B가 서로 무관계하게 나타날 때, 즉 독립사건일 때
A와 B가 동시에 일어날 확률 P(A와 B)는 P(A∩B) = P(A) * P(B)
사건 B가 주어졌을 때 사건 A의 조건부 확률은 P(A|B) = p(A)로 표현된다.

이산형확률분포의 예시: 베르누이, 이항, 다항, 포아송, 기하분포 (오답: 지수분포)
